---
import { REFERENCES_CONFIG } from '../config/references-config.ts';
import { UAPA_CONFIG } from '../config/uapa-config.ts';
import { formatAuthors, formatAuthorsForCitation } from '../config/format-utils.ts';

export interface Props {
  basicReferences?: string[];
  complementaryReferences?: string[];
  uapaTitle?: string;
  uapaAuthors?: string;
  uapaUrl?: string;
}

const { 
  basicReferences = REFERENCES_CONFIG.basic,
  complementaryReferences = REFERENCES_CONFIG.complementary,
  uapaTitle = UAPA_CONFIG.title,
  uapaAuthors = formatAuthorsForCitation(UAPA_CONFIG.authors), // Formato para citas
  uapaUrl = "(Vínculo)"
} = Astro.props;
---

<!-- ************* INICIA REFERENCIAS ************** -->
<section id="fuentes-info" class="wrapper-section">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-sm-12">
        <!-- contenido -->
        <h2>
          <!--<i class="icon-fuentes-icon icono me-2" aria-hidden="true"></i>-->
          <!-- cuando el icono es una fuente -->
          <img class="me-2 img-fluid icono-svg" src="img/ico_fuentes.svg" alt="">
          <!-- cuando el icono es una imagen -->
          Fuentes de información
        </h2>

        <h3>Básicas</h3>
        <h4>Bibliografía</h4>

        <ul>
          {basicReferences.map(ref => (
            <li set:html={ref}></li>
          ))}
        </ul>

        <h3>Complementarias</h3>
        <h4>Bibliografía</h4>

        <ul>
          {complementaryReferences.map(ref => (
            <li set:html={ref}></li>
          ))}
        </ul>      

        <!-- como citar -->
        <h3 class="envolv"><i class="icon-pen me-2" aria-hidden="true"></i><span>Cómo citar</span></h3>
        <p>{uapaAuthors} ({new Date().getFullYear()}). <em>{uapaTitle}</em>. Unidades de Apoyo para el Aprendizaje.
          CUAED/Facultad de Medicina-UNAM. {uapaUrl}</p>

        <!-- termina contenido -->
      </div>
    </div>
  </div>
</section>
<!-- ************* TERMINAN REFERENCIAS ************** -->